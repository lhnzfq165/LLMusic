(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/player"],{"0333":function(t,i,n){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n("4406"),o={props:{playerHeight:{type:Number,default:110}},data:function(){return{loadingStatus:!0,scrollCurrentTop:10,scrollDefaultTop:10,popupShow:!1,playlist_list:[{id:2219770152,playCount:"24696312",name:"还记得你的梦想吗？别让你的梦只有想",picUrl:"https://p2.music.126.net/c-u3kOlkVTUf4JdeDHDdEw==/109951163291871252.jpg"},{id:2105681544,playCount:"66730376",name:"日系/无前奏：开口即跪 一秒沦陷",picUrl:"https://p2.music.126.net/-bT1aNnjdESQwlw38D5eJg==/109951164323807218.jpg"},{id:2340621859,playCount:24696312,name:"[国电新势力] 网易电子音乐人精选",picUrl:"https://p2.music.126.net/qA0W0aER7LxB99iTOMQZcA==/109951166153828602.jpg"},{id:2075587022,playCount:28962018,name:"助眠辑 | 自然音，伴灵动乐符萦绕耳畔",picUrl:"https://p2.music.126.net/sixunTcvD_IXeVqxZnpHkA==/109951163452086313.jpg"},{id:1982066521,playCount:25412796,name:"假如能回到过去，你想做什么",picUrl:"https://p2.music.126.net/kZb9DO4vykqiYEx0HHx86w==/109951163065542645.jpg"},{id:2821115454,playCount:60138372,name:"[一周原创发现] XMASwu(吴骜)陪你看一场永恒的烟火",picUrl:"https://p2.music.126.net/iMRatrLaDG7dfI4eHxoM1A==/109951168721829218.jpg"},{id:2219770152,playCount:26083436,name:"还记得你的梦想吗？别让你的梦只有想",picUrl:"https://p2.music.126.net/c-u3kOlkVTUf4JdeDHDdEw==/109951163291871252.jpg"},{id:2105681544,playCount:66730376,name:"日系/无前奏：开口即跪 一秒沦陷",picUrl:"https://p2.music.126.net/-bT1aNnjdESQwlw38D5eJg==/109951164323807218.jpg"},{id:2340621859,playCount:24696312,name:"[国电新势力] 网易电子音乐人精选",picUrl:"https://p2.music.126.net/qA0W0aER7LxB99iTOMQZcA==/109951166153828602.jpg"},{id:2075587022,playCount:28962018,name:"助眠辑 | 自然音，伴灵动乐符萦绕耳畔",picUrl:"https://p2.music.126.net/sixunTcvD_IXeVqxZnpHkA==/109951163452086313.jpg"},{id:1982066521,playCount:25412796,name:"假如能回到过去，你想做什么",picUrl:"https://p2.music.126.net/kZb9DO4vykqiYEx0HHx86w==/109951163065542645.jpg"},{id:2821115454,playCount:60138372,name:"[一周原创发现] XMASwu(吴骜)陪你看一场永恒的烟火",picUrl:"https://p2.music.126.net/iMRatrLaDG7dfI4eHxoM1A==/109951168721829218.jpg"},{id:2219770152,playCount:26083436,name:"还记得你的梦想吗？别让你的梦只有想",picUrl:"https://p2.music.126.net/c-u3kOlkVTUf4JdeDHDdEw==/109951163291871252.jpg"},{id:2105681544,playCount:66730376,name:"日系/无前奏：开口即跪 一秒沦陷",picUrl:"https://p2.music.126.net/-bT1aNnjdESQwlw38D5eJg==/109951164323807218.jpg"},{id:2340621859,playCount:24696312,name:"[国电新势力] 网易电子音乐人精选",picUrl:"https://p2.music.126.net/qA0W0aER7LxB99iTOMQZcA==/109951166153828602.jpg"},{id:2075587022,playCount:28962018,name:"助眠辑 | 自然音，伴灵动乐符萦绕耳畔",picUrl:"https://p2.music.126.net/sixunTcvD_IXeVqxZnpHkA==/109951163452086313.jpg"},{id:1982066521,playCount:25412796,name:"假如能回到过去，你想做什么",picUrl:"https://p2.music.126.net/kZb9DO4vykqiYEx0HHx86w==/109951163065542645.jpg"},{id:2821115454,playCount:60138372,name:"[一周原创发现] XMASwu(吴骜)陪你看一场永恒的烟火",picUrl:"https://p2.music.126.net/iMRatrLaDG7dfI4eHxoM1A==/109951168721829218.jpg"},{id:2219770152,playCount:26083436,name:"还记得你的梦想吗？别让你的梦只有想",picUrl:"https://p2.music.126.net/c-u3kOlkVTUf4JdeDHDdEw==/109951163291871252.jpg"},{id:2105681544,playCount:66730376,name:"日系/无前奏：开口即跪 一秒沦陷",picUrl:"https://p2.music.126.net/-bT1aNnjdESQwlw38D5eJg==/109951164323807218.jpg"},{id:2340621859,playCount:24696312,name:"[国电新势力] 网易电子音乐人精选",picUrl:"https://p2.music.126.net/qA0W0aER7LxB99iTOMQZcA==/109951166153828602.jpg"}],category_list:[{title:"官方",categories:[{name:"全部",hot:!1,index:"0"}]},{title:"语种",categories:[{name:"华语",hot:!0,index:"1"},{name:"欧美",hot:!1,index:"2"},{name:"日语",hot:!1,index:"3"},{name:"韩语",hot:!1,index:"4"},{name:"粤语",hot:!1,index:"5"}]},{title:"风格",categories:[{name:"流行",hot:!0,index:"6"},{name:"摇滚",hot:!0,index:"7"},{name:"民谣",hot:!0,index:"8"},{name:"电子",hot:!0,index:"9"}]},{title:"场景",categories:[{name:"清晨",hot:!1,index:"10"},{name:"夜晚",hot:!0,index:"11"},{name:"学习",hot:!0,index:"12"},{name:"工作",hot:!1,index:"13"},{name:"午休",hot:!1,index:"14"}]}],tabs_index:0,screenHeight:"0",lowerTemp:0,upperTemp:0,totalPage:1,currentPage:0}},mounted:function(){var t=this;e._get("/api/playlistPiazza/getDataPagePlaylistPiazza",{},(function(i){t.category_list=i.data["data"]["category_list"],t.getPlaylistByCategory(),t.setHeight(),setTimeout((function(){t.loadingStatus=!1}),800)}))},methods:{setHeight:function(){var i=this.playerHeight,n=t.getSystemInfoSync().statusBarHeight;this.screenHeight=t.getSystemInfoSync().windowHeight-88-t.$u.getPx(i)-n},getPlaylistByCategory:function(){var t=this,i=this.listFormat(),n=i[this.tabs_index].name;e._get("/api/playlistPiazza/getPlaylistByCategory",{cat:n,page:this.currentPage},(function(i){t.playlist_list=i.data["data"]["playlist_list"],t.totalPage=i.data["data"]["totalPage"]}))},playlistClick:function(i){t.setStorageSync("playlistId",this.playlist_list[i].id),t.setStorageSync("playlistType","normal");this.$emit("pageTo",{from:"2",to:"3"})},scroll:function(t){this.scrollCurrentTop=t},scrolltoupper:function(){var i=this;0==i.currentPage?(t.showToast({icon:"error",title:"已经到顶"}),i.topNumberChange()):i.upperTemp<1?(i.upperTemp=i.upperTemp+1,t.showToast({icon:"none",title:"再拉一次，切换上一页",mask:!0,duration:800}),i.topNumberChange()):(t.showLoading({title:"加载中...",mask:!0}),i.currentPage=i.currentPage-1,i.getPlaylistByCategory(),setTimeout((function(){i.topNumberChange(),i.upperTemp=0,t.hideLoading()}),800))},scrolltolower:function(){var i=this;i.currentPage==i.totalPage?(t.showToast({icon:"error",title:"已经到底"}),i.scrollDefaultTop=i.scrollCurrentTop-10):i.lowerTemp<1?(i.lowerTemp=i.lowerTemp+1,t.showToast({icon:"none",title:"再拉一次，切换下一页",mask:!0,duration:800}),i.scrollDefaultTop=i.scrollCurrentTop-10):(t.showLoading({title:"加载中...",mask:!0}),i.currentPage=i.currentPage+1,i.getPlaylistByCategory(),setTimeout((function(){i.topNumberChange(),i.lowerTemp=0,t.hideLoading()}),800))},listFormat:function(){for(var t=[],i=0;i<this.category_list.length;i++)for(var n=0;n<this.category_list[i].categories.length;n++)t.push(this.category_list[i].categories[n]);return t},closePopup:function(){this.popupShow=!1},openPopup:function(){this.popupShow=!0},topNumberChange:function(){10==this.scrollDefaultTop?this.scrollDefaultTop=10.1:10.1==this.scrollDefaultTop?this.scrollDefaultTop=10.2:10.2==this.scrollDefaultTop?this.scrollDefaultTop=10.3:this.scrollDefaultTop=10},tabsChange:function(t){this.tabs_index!=t.index&&(this.tabs_index=t.index,this.currentPage=0,this.getPlaylistByCategory(),this.topNumberChange(),this.upperTemp=0,this.lowerTemp=0)},playCountFormat:function(t){return e.playCountFormat(t)},listFormat1:function(t){return e.listFormatOneToThree(t)}}};i.default=o}).call(this,n("543d")["default"])},"0665":function(t,i,n){"use strict";var e=n("c36c"),o=n.n(e);o.a},"07c8":function(t,i,n){"use strict";n.r(i);var e=n("0b9c"),o=n("30a2");for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return o[t]}))}(s);n("f5e9");var u=n("f0c5"),l=Object(u["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);i["default"]=l.exports},"0a38":function(t,i,n){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n("4406"),o={props:{fatherSongListsId:String,fatherCurrnt:Number},mounted:function(){var t=this;e._get("/api/recommend/getRecommendedData",{},(function(i){t.childSongLists=i.data["data"]["playlist"],t.fatherSongListsId==t.childSongLists.id&&(t.childCurrentMusic=t.fatherCurrnt),setTimeout((function(){t.loadingStatus=!1}),600)}))},watch:{fatherCurrnt:function(t){console.log(t);this.fatherSongListsId==this.childSongLists.id?this.childCurrentMusic=t:-1!=this.childCurrentMusic&&(this.childCurrentMusic=-1)}},data:function(){return{loadingStatus:!0,childCurrentMusic:-1,childSongLists:{id:"3",music_list:[{music_id:"1",music_cover:"https://p1.music.126.net/w1pQ83qhoVMJ_eMpRyoAtA==/109951166200199773.jpg",music_singer:"Goose house",music_name:"光るなら",music_time:"04:14",is_like:!0},{music_id:"2",music_cover:"https://p1.music.126.net/_zYzyYUidI7mfXeHKiSS0g==/109951166701711136.jpg",music_singer:"胡彦斌",music_name:"One Night in Shang Hai",music_time:"04:02",is_like:!1},{music_id:"3",music_cover:"https://p1.music.126.net/_zYzyYUidI7mfXeHKiSS0g==/109951166701711136.jpg",music_singer:"胡彦斌",music_name:"One Night in Shang Hai",music_time:"04:02",is_like:!1}]}}},methods:{collectOrCancelMusic:function(i){var n,o,s=this,u=this.childSongLists.music_list[i].music_id;this.childSongLists.music_list[i].is_like?(n="del",o=!1):(n="add",o=!0);var l=t.getStorageSync("collectionPlaylistId");e._get("/api/music/collectOrCancelMusic",{musicId:u,playlistId:l,op:n},(function(t){t.data["data"]["success"]&&(s.childSongLists.music_list[i].is_like=o)}))},copywa:function(i){t.setClipboardData({data:i,success:function(i){t.showToast({title:"复制成功"})},fail:function(){t.showToast({title:"复制失败了"})}})},downloadMusic:function(i){var n=this;e._get("/api/music/getMusicURLById",{id:this.childSongLists.music_list[i].music_id},(function(i){var e=t.downloadFile({url:i.data["data"]["url"],success:function(i){200===i.statusCode&&(console.log("下载成功"),t.saveFile({tempFilePath:i.tempFilePath,success:function(i){t.hideLoading(),t.showToast({icon:"success",title:"下载成功！"}),console.log("保存成功"+i.savedFilePath)}}))},fail:function(e){t.hideLoading(),t.showModal({title:"提示",content:"下载失败，可以通过浏览器链接下载，是否复制链接自行去浏览器下载？",success:function(t){t.confirm?n.copywa(i.data["data"]["url"]):t.cancel&&console.log("用户点击取消")}}),console.log(e)}});e.onProgressUpdate((function(i){t.showLoading({title:"下载进度"+i.progress+"%"}),i.progress>50&&e.abort()}))}))},sendToFather:function(t){this.childCurrentMusic=t,console.log(t);var i={childSongListsId:this.childSongLists.id,index:t};this.$emit("getChild",i)},playAllSongs:function(){if(0==this.childSongLists.music_list.length)t.showToast({icon:"none",title:"没有歌曲"});else{this.childCurrentMusic=0;var i={childSongListsId:this.childSongLists.id,index:0};this.$emit("getChild",i)}}}};i.default=o}).call(this,n("543d")["default"])},"0b9c":function(t,i,n){"use strict";n.d(i,"b",(function(){return o})),n.d(i,"c",(function(){return s})),n.d(i,"a",(function(){return e}));var e={uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"a1dd"))},"u-Text":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--text/u--text")]).then(n.bind(null,"7545"))},"u-Image":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--image/u--image")]).then(n.bind(null,"c361"))},uLoadingPage:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-loading-page/u-loading-page")]).then(n.bind(null,"ceec"))}},o=function(){var t=this.$createElement;this._self._c},s=[]},1045:function(t,i,n){"use strict";n.r(i);var e=n("1e0c"),o=n.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);i["default"]=o.a},1671:function(t,i,n){},"169c":function(t,i,n){},"1aba":function(t,i,n){"use strict";n.r(i);var e=n("e566"),o=n("3eac");for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return o[t]}))}(s);n("c6c8");var u=n("f0c5"),l=Object(u["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);i["default"]=l.exports},"1bca":function(t,i,n){"use strict";n.d(i,"b",(function(){return o})),n.d(i,"c",(function(){return s})),n.d(i,"a",(function(){return e}));var e={uList:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-list/u-list")]).then(n.bind(null,"1a0f"))},uListItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-list-item/u-list-item")]).then(n.bind(null,"d11d"))},"u-Image":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--image/u--image")]).then(n.bind(null,"c361"))},"u-Text":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--text/u--text")]).then(n.bind(null,"7545"))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"a1dd"))}},o=function(){var t=this.$createElement;this._self._c},s=[]},"1e0c":function(t,i,n){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n("4406"),o={data:function(){return{loadingStatus:!0,childSongLists:{id:"2",music_list:[{music_id:"1",music_cover:"https://p1.music.126.net/w1pQ83qhoVMJ_eMpRyoAtA==/109951166200199773.jpg",music_src:"https://lvhaonan.blob.core.windows.net/music/2.mp3?sp=r&st=2023-07-17T05:38:04Z&se=2023-08-31T13:38:04Z&spr=https&sv=2022-11-02&sr=b&sig=GeOzBHpJnJHPx7QaK8ohMgbBuM75fXN71gHm5UODaAs%3D",music_singer:"Goose house",music_name:"光るなら",music_time:"04:14",is_like:!0},{music_id:"2",music_cover:"https://p1.music.126.net/_zYzyYUidI7mfXeHKiSS0g==/109951166701711136.jpg",music_src:"https://lvhaonan.blob.core.windows.net/music/1.flac?sp=r&st=2023-07-17T05:41:21Z&se=2023-08-31T13:41:21Z&spr=https&sv=2022-11-02&sr=b&sig=OjuVxSSbfVVD1PqncL6TLTY%2Byi6EDwdd%2BEpd5lUzHzk%3D",music_singer:"胡彦斌",music_name:"One Night in Shang Hai",music_time:"04:02",is_like:!1},{music_id:"3",music_cover:"https://p1.music.126.net/w1pQ83qhoVMJ_eMpRyoAtA==/109951166200199773.jpg",music_src:"https://lvhaonan.blob.core.windows.net/music/2.mp3?sp=r&st=2023-07-17T05:38:04Z&se=2023-08-31T13:38:04Z&spr=https&sv=2022-11-02&sr=b&sig=GeOzBHpJnJHPx7QaK8ohMgbBuM75fXN71gHm5UODaAs%3D",music_singer:"Goose house",music_name:"光るなら",music_time:"04:14",is_like:!1},{music_id:"4",music_cover:"https://p1.music.126.net/_zYzyYUidI7mfXeHKiSS0g==/109951166701711136.jpg",music_src:"https://lvhaonan.blob.core.windows.net/music/1.flac?sp=r&st=2023-07-17T05:41:21Z&se=2023-08-31T13:41:21Z&spr=https&sv=2022-11-02&sr=b&sig=OjuVxSSbfVVD1PqncL6TLTY%2Byi6EDwdd%2BEpd5lUzHzk%3D",music_singer:"胡彦斌",music_name:"One Night in Shang Hai",music_time:"04:02",is_like:!0}]},rSongList_list:[{id:2219770152,playCount:26083436,name:"还记得你的梦想吗？别让你的梦只有想",picUrl:"https://p2.music.126.net/c-u3kOlkVTUf4JdeDHDdEw==/109951163291871252.jpg"},{id:2105681544,playCount:66730376,name:"日系/无前奏：开口即跪 一秒沦陷",picUrl:"https://p2.music.126.net/-bT1aNnjdESQwlw38D5eJg==/109951164323807218.jpg"},{id:2340621859,playCount:24696312,name:"[国电新势力] 网易电子音乐人精选",picUrl:"https://p2.music.126.net/qA0W0aER7LxB99iTOMQZcA==/109951166153828602.jpg"},{id:2075587022,playCount:28962018,name:"助眠辑 | 自然音，伴灵动乐符萦绕耳畔",picUrl:"https://p2.music.126.net/sixunTcvD_IXeVqxZnpHkA==/109951163452086313.jpg"},{id:1982066521,playCount:25412796,name:"假如能回到过去，你想做什么",picUrl:"https://p2.music.126.net/kZb9DO4vykqiYEx0HHx86w==/109951163065542645.jpg"},{id:2821115454,playCount:60138372,name:"[一周原创发现] XMASwu(吴骜)陪你看一场永恒的烟火",picUrl:"https://p2.music.126.net/iMRatrLaDG7dfI4eHxoM1A==/109951168721829218.jpg"},{id:2821115454,playCount:60138372,name:"[一周原创发现] XMASwu(吴骜)陪你看一场永恒的烟火",picUrl:"https://p2.music.126.net/iMRatrLaDG7dfI4eHxoM1A==/109951168721829218.jpg"}],gridList:[{name:"https://www.myazurepicture.llgulugulu.top/api/picture/getImageByte?pid=f5a59850686edd348c6eccd7aa307b42",title:"推荐"},{name:"https://www.myazurepicture.llgulugulu.top/api/picture/getImageByte?pid=e1ced18b0c241dbcbe81206dd5547faf",title:"歌单"},{name:"https://www.myazurepicture.llgulugulu.top/api/picture/getImageByte?pid=248117d18631e197fd9ae0655b5b033f",title:"排行"},{name:"https://www.myazurepicture.llgulugulu.top/api/picture/getImageByte?pid=55a0ea29dd694b45291e12a92ae61334",title:"收藏"},{name:"https://www.myazurepicture.llgulugulu.top/api/picture/getImageByte?pid=917afd52cf21ed807ae14674bb943d8c",title:"说明"}],keyword:"",swiperList:["https://cdn.uviewui.com/uview/swiper/swiper2.png","https://cdn.uviewui.com/uview/swiper/swiper3.png"],pagesList:["1","2","4","5","9"]}},mounted:function(){var t=this;e._get("/api/index/getRecommendedData",{},(function(i){t.rSongList_list=i.data["data"]["recommendedPlaylists"],t.childSongLists=i.data["data"]["playlist"],t.loadingStatus=!1}))},methods:{goSearch:function(i){if(""===i)t.showToast({icon:"none",title:"输入框为空!"});else{t.setStorageSync("searchKeywords",i),this.$emit("pageTo",{from:"0",to:"6"})}console.log(i)},listFormat:function(t){return e.listFormatOneToThree(t)},rSongsClick:function(t){console.log(t);var i={childSongListsId:this.childSongLists.id,index:t};this.$emit("getChild",i)},gridClick:function(i){var n={from:"0",to:this.pagesList[i]};"5"==this.pagesList[i]&&(t.setStorageSync("playlistId",t.getStorageSync("collectionPlaylistId")),t.setStorageSync("playlistType","collction")),this.$emit("pageTo",n)},rSongListClick:function(i){t.setStorageSync("playlistId",this.rSongList_list[i].id),t.setStorageSync("playlistType","normal");this.$emit("pageTo",{from:"0",to:"3"})},playCountFormat:function(t){return e.playCountFormat(t)}}};i.default=o}).call(this,n("543d")["default"])},"30a2":function(t,i,n){"use strict";n.r(i);var e=n("af80"),o=n.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);i["default"]=o.a},3379:function(t,i,n){"use strict";n.r(i);var e=n("ac2c"),o=n("68f5");for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return o[t]}))}(s);n("d591");var u=n("f0c5"),l=Object(u["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);i["default"]=l.exports},"3eac":function(t,i,n){"use strict";n.r(i);var e=n("d70a"),o=n.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);i["default"]=o.a},"46df":function(t,i,n){"use strict";var e=n("9dab"),o=n.n(e);o.a},5663:function(t,i,n){},"59ac":function(t,i,n){"use strict";n.r(i);var e=n("0333"),o=n.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);i["default"]=o.a},"5b3c":function(t,i,n){"use strict";var e=n("5663"),o=n.n(e);o.a},"5b6d":function(t,i,n){"use strict";n.r(i);var e=n("8d57"),o=n.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);i["default"]=o.a},"5d87":function(t,i,n){"use strict";n.d(i,"b",(function(){return o})),n.d(i,"c",(function(){return s})),n.d(i,"a",(function(){return e}));var e={"u-Text":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--text/u--text")]).then(n.bind(null,"7545"))},"u-Image":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--image/u--image")]).then(n.bind(null,"c361"))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"a1dd"))},uLoadingPage:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-loading-page/u-loading-page")]).then(n.bind(null,"ceec"))}},o=function(){var t=this.$createElement,i=(this._self._c,Number(this.totalSongNumber)),n=0==Number(this.childSongLists.songsNumber)&&0==Number(this.totalSongNumber),e=Number(this.totalPlaylistNumber),o=0==Number(this.playlistlist.playlistCount)&&0==Number(this.totalPlaylistNumber);this.$mp.data=Object.assign({},{$root:{m0:i,m1:n,m2:e,m3:o}})},s=[]},6484:function(t,i,n){"use strict";n.r(i);var e=n("0a38"),o=n.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);i["default"]=o.a},"64af":function(t,i,n){},"654a":function(t,i,n){"use strict";n.r(i);var e=n("6d93"),o=n.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);i["default"]=o.a},"68f5":function(t,i,n){"use strict";n.r(i);var e=n("d8f6"),o=n.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);i["default"]=o.a},"6d93":function(t,i,n){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n("4406"),o={props:{fatherSongListsId:String,fatherCurrnt:Number,playerHeight:{type:Number,default:110}},data:function(){return{playlistType:"normal",loadingStatus:!0,childCurrentMusic:-1,popupContentIntroductionHeight:150,popupShow:!1,playlistinfo:{id:"initial",name:"加载中...",cover:"https://p2.music.126.net/c-u3kOlkVTUf4JdeDHDdEw==/109951163291871252.jpg",updateTime:"",creator:"一只喵喵喵星人",cat:"",playCount:"",loveCount:"",chatCount:"",introduction:"",songsNumber:"0",music_list:[]},screenHeight:0,showList:[],showListIndex:0}},mounted:function(){var i=this,n=t.getStorageSync("playlistId");this.playlistType=t.getStorageSync("playlistType"),this.showList.length=0,this.showListIndex=0,e._get("/api/playlist/getPlaylistInformation",{id:n},(function(n){i.playlistinfo=n.data["data"]["playlist"],i.loadmore(),i.fatherSongListsId==i.playlistinfo.id&&(i.childCurrentMusic=i.fatherCurrnt),t.removeStorageSync("playlistId"),t.removeStorageSync("playlistType"),i.setHeight(),i.loadingStatus=!1}))},watch:{fatherCurrnt:function(t){this.fatherSongListsId==this.playlistinfo.id?this.childCurrentMusic=t:-1!=this.childCurrentMusic&&(this.childCurrentMusic=-1)}},methods:{collectOrCancelMusic:function(i){var n,o,s=this,u=this.playlistinfo.music_list[i].music_id;this.playlistinfo.music_list[i].is_like?(n="del",o=!1):(n="add",o=!0);var l=t.getStorageSync("collectionPlaylistId");e._get("/api/music/collectOrCancelMusic",{musicId:u,playlistId:l,op:n},(function(t){if(t.data["data"]["success"])if("normal"==s.playlistType)s.playlistinfo.music_list[i].is_like=o;else if(s.playlistinfo.music_list[i].is_like){s.playlistinfo.music_list.splice(i,1);-1!=s.childCurrentMusic&&(s.childCurrentMusic=-1,s.changePlaylistId()),s.playlistinfo.songsNumber=s.playlistinfo.songsNumber-1}else s.playlistinfo.music_list[i].is_like=o}))},changePlaylistId:function(){this.$emit("changePlaylistId","change")},copywa:function(i){t.setClipboardData({data:i,success:function(i){t.showToast({title:"复制成功"})},fail:function(){t.showToast({title:"复制失败了"})}})},downloadMusic:function(i){var n=this;e._get("/api/music/getMusicURLById",{id:this.playlistinfo.music_list[i].music_id},(function(i){var e=t.downloadFile({url:i.data["data"]["url"],success:function(i){200===i.statusCode&&(console.log("下载成功"),t.saveFile({tempFilePath:i.tempFilePath,success:function(i){t.hideLoading(),t.showToast({icon:"success",title:"下载成功！"}),console.log("保存成功"+i.savedFilePath)}}))},fail:function(e){t.hideLoading(),t.showModal({title:"提示",content:"下载失败，可以通过浏览器链接下载，是否复制链接自行去浏览器下载？",success:function(t){t.confirm?n.copywa(i.data["data"]["url"]):t.cancel&&console.log("用户点击取消")}}),console.log(e)}});e.onProgressUpdate((function(i){t.showLoading({title:"下载进度"+i.progress+"%"})}))}))},setHeight:function(){var i=this,n=this.playerHeight,e=t.getSystemInfoSync().statusBarHeight,o=t.$u.getPx(t.$u.getPx("20rpx",!0)),s=0,u=0,l=t.createSelectorQuery().in(this),a=t.createSelectorQuery().in(this);l.select(".playlist-info").boundingClientRect((function(l){s=l.height,a.select(".playlist-songlist-button").boundingClientRect((function(l){u=l.height,i.screenHeight=t.getSystemInfoSync().windowHeight-s-n-e-o-45-u})).exec()})).exec()},playCountFormat:function(t){return e.playCountFormat(t)},playAllMusics:function(){if(0==this.playlistinfo.music_list.length)t.showToast({icon:"none",title:"没有歌曲"});else{this.childCurrentMusic=0;var i={childSongListsId:this.playlistinfo.id,index:0};this.$emit("getChild",i)}},playOneMusic:function(t){this.childCurrentMusic=t;var i={childSongListsId:this.playlistinfo.id,index:t};this.$emit("getChild",i)},loadmore:function(){if(this.showListIndex==Number(this.playlistinfo.songsNumber)&&0!=Number(this.playlistinfo.songsNumber))t.showToast({icon:"none",title:"到底了..."});else{var i=this.showListIndex,n=30;n=i+30>=Number(this.playlistinfo.songsNumber)?Number(this.playlistinfo.songsNumber):i+30;for(var e=i;e<n;e++)this.showList.push(this.playlistinfo.music_list[e]),this.showListIndex=this.showListIndex+1}},scrolltolower:function(){this.loadmore()},openPopup:function(){var t=this;this.popupShow=!0,setTimeout((function(){t.setPopupContentHeight()}),310)},PopupClose:function(){this.popupShow=!1},setPopupContentHeight:function(){var i=this,n=t.createSelectorQuery().in(this),e=t.createSelectorQuery().in(this),o=0,s=0,u=t.$u.getPx(t.$u.getPx("830rpx",!0));n.select(".popupContent-cover-name").boundingClientRect((function(t){o=t.height,e.select(".popupContent-creator-cat").boundingClientRect((function(t){s=t.height,i.popupContentIntroductionHeight=u-o-s})).exec()})).exec()}}};i.default=o}).call(this,n("543d")["default"])},"76a2":function(t,i,n){"use strict";n.d(i,"b",(function(){return o})),n.d(i,"c",(function(){return s})),n.d(i,"a",(function(){return e}));var e={uTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,"9e52"))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"a1dd"))},uList:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-list/u-list")]).then(n.bind(null,"1a0f"))},uListItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-list-item/u-list-item")]).then(n.bind(null,"d11d"))},"u-Image":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--image/u--image")]).then(n.bind(null,"c361"))},"u-Text":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--text/u--text")]).then(n.bind(null,"7545"))},uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,"69f0"))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,"a5c8"))},uLoadingPage:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-loading-page/u-loading-page")]).then(n.bind(null,"ceec"))}},o=function(){var t=this,i=t.$createElement,n=(t._self._c,t.listFormat()),e=t.__map(t.listFormat1(t.playlist_list),(function(i,n){var e=t.__get_orig(i),o=t.__map(i,(function(i,n){var e=t.__get_orig(i),o=t.playCountFormat(i.playCount);return{$orig:e,m1:o}}));return{$orig:e,l0:o}}));t._isMounted||(t.e0=function(i,n,e){var o=arguments[arguments.length-1].currentTarget.dataset,s=o.eventParams||o["event-params"];n=s.index,e=s.ind;return t.playlistClick(3*n+e)}),t.$mp.data=Object.assign({},{$root:{m0:n,l1:e}})},s=[]},"81d8":function(t,i,n){"use strict";var e=n("169c"),o=n.n(e);o.a},"8c1b":function(t,i,n){"use strict";var e=n("d06b"),o=n.n(e);o.a},"8d57":function(t,i,n){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n("4406"),o={data:function(){return{childCurrentMusic:-1,loadingStatus:!0,totalPlaylistNumber:"0",totalSongNumber:"0",childSongLists:{id:"initialSearch",name:"加载中...",cover:"https://p2.music.126.net/c-u3kOlkVTUf4JdeDHDdEw==/109951163291871252.jpg",creator:"llgululu",songsNumber:"0",music_list:[]},playlistlist:{playlistCount:"0",list:[]}}},mounted:function(){var i=this,n=t.getStorageSync("searchKeywords")||"海阔天空";e._get("/api/search/getSearchResult",{keywords:n},(function(t){i.totalPlaylistNumber=t.data["data"]["totalPlaylistCount"],i.totalSongNumber=t.data["data"]["totalSongCount"],i.childSongLists=t.data["data"]["childSongLists"],i.playlistlist=t.data["data"]["playlistlist"],i.loadingStatus=!1}))},methods:{viewAllSong:function(){this.$emit("pageTo",{from:"6",to:"7"})},viewAllPlaylist:function(){this.$emit("pageTo",{from:"6",to:"8"})},viewPlaylist:function(i){t.setStorageSync("playlistId",this.playlistlist.list[i].id),t.setStorageSync("playlistType","normal"),this.$emit("pageTo",{from:"6",to:"3"})},playOneMusic:function(t){var i={id:this.childSongLists.id,songsNumber:"1",music_list:[this.childSongLists.music_list[t]]};this.$emit("playOneMusic",i)},downloadMusic:function(i){var n=this;e._get("/api/music/getMusicURLById",{id:this.childSongLists.music_list[i].music_id},(function(i){var e=t.downloadFile({url:i.data["data"]["url"],success:function(i){200===i.statusCode&&(console.log("下载成功"),t.saveFile({tempFilePath:i.tempFilePath,success:function(i){t.hideLoading(),t.showToast({icon:"success",title:"下载成功！"}),console.log("保存成功"+i.savedFilePath)}}))},fail:function(e){t.hideLoading(),t.showModal({title:"提示",content:"下载失败，可以通过浏览器链接下载，是否复制链接自行去浏览器下载？",success:function(t){t.confirm?n.copywa(i.data["data"]["url"]):t.cancel&&console.log("用户点击取消")}}),console.log(e)}});e.onProgressUpdate((function(i){t.showLoading({title:"下载进度"+i.progress+"%"}),i.progress>50&&e.abort()}))}))},copywa:function(i){t.setClipboardData({data:i,success:function(i){t.showToast({title:"复制成功"})},fail:function(){t.showToast({title:"复制失败了"})}})},collectOrCancelMusic:function(i){var n,o,s=this,u=this.childSongLists.music_list[i].music_id;this.childSongLists.music_list[i].is_like?(n="del",o=!1):(n="add",o=!0);var l=t.getStorageSync("collectionPlaylistId");e._get("/api/music/collectOrCancelMusic",{musicId:u,playlistId:l,op:n},(function(t){t.data["data"]["success"]&&(s.childSongLists.music_list[i].is_like=o)}))}}};i.default=o}).call(this,n("543d")["default"])},"913c":function(t,i,n){"use strict";n.r(i);var e=n("5d87"),o=n("5b6d");for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return o[t]}))}(s);n("5b3c");var u=n("f0c5"),l=Object(u["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);i["default"]=l.exports},"9dab":function(t,i,n){},a0e5:function(t,i,n){"use strict";n.r(i);var e=n("ffc6"),o=n("1045");for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return o[t]}))}(s);n("8c1b");var u=n("f0c5"),l=Object(u["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);i["default"]=l.exports},a450:function(t,i,n){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n("4406"),o={props:{playerHeight:{type:Number,default:110}},data:function(){return{loadingStatus:!0,hasMore:!1,screenHeight:0,totalPlaylist:0,page:0,key:"海阔天空",playlistlist:{playlistCount:"0",list:[]}}},mounted:function(){this.setScorllHeight();var i=t.getStorageSync("searchKeywords")||"海阔天空";this.key=i,this.loadMore()},methods:{viewPlaylist:function(i){t.setStorageSync("playlistId",this.playlistlist.list[i].id),t.setStorageSync("playlistType","normal"),this.$emit("pageTo",{from:"8",to:"3"})},loadMore:function(){var t=this;e._get("/api/searchPlaylist/getSearchPlaylistResult",{keywords:this.key,page:this.page},(function(i){t.hasMore=i.data["data"]["playlistHasMore"],t.playlistlist.playlistCount=Number(t.playlistlist.playlistCount)+Number(i.data["data"]["playlistlist"].playlistCount),t.playlistlist.list=t.playlistlist.list.concat(i.data["data"]["playlistlist"].list),t.totalPlaylist=i.data["data"]["totalPlaylistCount"],t.loadingStatus=!1}))},scrolltolower:function(){this.hasMore?(this.page=this.page+1,this.loadMore()):t.showToast({icon:"none",title:"到底了"})},setScorllHeight:function(){var i=this.playerHeight,n=t.getSystemInfoSync().statusBarHeight;this.screenHeight=t.getSystemInfoSync().windowHeight-i-n-44-t.$u.getPx(t.$u.getPx("20rpx",!0))}}};i.default=o}).call(this,n("543d")["default"])},ac2c:function(t,i,n){"use strict";n.d(i,"b",(function(){return o})),n.d(i,"c",(function(){return s})),n.d(i,"a",(function(){return e}));var e={"u-Text":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--text/u--text")]).then(n.bind(null,"7545"))}},o=function(){var t=this.$createElement;this._self._c},s=[]},ac99:function(t,i,n){"use strict";n.d(i,"b",(function(){return o})),n.d(i,"c",(function(){return s})),n.d(i,"a",(function(){return e}));var e={uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"a1dd"))},"u-Image":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--image/u--image")]).then(n.bind(null,"c361"))},"u-Text":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--text/u--text")]).then(n.bind(null,"7545"))},uLoadingPage:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-loading-page/u-loading-page")]).then(n.bind(null,"ceec"))}},o=function(){var t=this.$createElement;this._self._c},s=[]},ace3:function(t,i,n){"use strict";n.r(i);var e=n("76a2"),o=n("59ac");for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return o[t]}))}(s);n("46df");var u=n("f0c5"),l=Object(u["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);i["default"]=l.exports},af80:function(t,i,n){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n("4406"),o={data:function(){return{loadingStatus:!0,rankingListInfo:{officialLists:[{id:"19723756",name:"飙升榜",updateTime:"刚刚更新",cover:"https://p2.music.126.net/pcYHpMkdC69VVvWiynNklA==/109951166952713766.jpg",top3Music:["1 予你 - 队长","2 罗刹海市 - 刀郎","3 怪就怪天气 - Zy"]},{id:"3779629",name:"新歌榜",updateTime:"刚刚更新",cover:"https://p1.music.126.net/wVmyNS6b_0Nn-y6AX8UbpQ==/109951166952686384.jpg",top3Music:["1 罗刹海市 - 刀郎","2 怪就怪天气 - Zy","3 C级浪漫 - 法老/邓典果DDG/KnowKnow"]},{id:"3779629",name:"新歌榜",updateTime:"刚刚更新",cover:"https://p1.music.126.net/wVmyNS6b_0Nn-y6AX8UbpQ==/109951166952686384.jpg",top3Music:["1 罗刹海市 - 刀郎","2 怪就怪天气 - Zy","3 C级浪漫 - 法老/邓典果DDG/KnowKnow"]},{id:"3779629",name:"新歌榜",updateTime:"刚刚更新",cover:"https://p1.music.126.net/wVmyNS6b_0Nn-y6AX8UbpQ==/109951166952686384.jpg",top3Music:["1 罗刹海市 - 刀郎","2 怪就怪天气 - Zy","3 C级浪漫 - 法老/邓典果DDG/KnowKnow"]}],otherLists:[{id:"991319590",name:"云音乐说唱榜",updateTime:"每周五更新",cover:"https://p1.music.126.net/xNnQzUODQs50SJ2Sm4IVVA==/109951167976981051.jpg"},{id:"71384707",name:"云音乐古典榜",updateTime:"每周四更新",cover:"https://p1.music.126.net/urByD_AmfBDBrs7fA9-O8A==/109951167976973225.jpg"},{id:"991319590",name:"云音乐说唱榜",updateTime:"每周五更新",cover:"https://p1.music.126.net/xNnQzUODQs50SJ2Sm4IVVA==/109951167976981051.jpg"},{id:"71384707",name:"云音乐古典榜",updateTime:"每周四更新",cover:"https://p1.music.126.net/urByD_AmfBDBrs7fA9-O8A==/109951167976973225.jpg"},{id:"991319590",name:"云音乐说唱榜",updateTime:"每周五更新",cover:"https://p1.music.126.net/xNnQzUODQs50SJ2Sm4IVVA==/109951167976981051.jpg"},{id:"71384707",name:"云音乐古典榜",updateTime:"每周四更新",cover:"https://p1.music.126.net/urByD_AmfBDBrs7fA9-O8A==/109951167976973225.jpg"}]}}},mounted:function(){var t=this;e._get("/api/rankingList/getRankingListInfo",{},(function(i){t.rankingListInfo=i.data["data"],setTimeout((function(){t.loadingStatus=!1}),800)}))},methods:{officialListClick:function(i){t.setStorageSync("playlistId",this.rankingListInfo["officialLists"][i].id),t.setStorageSync("playlistType","normal");this.$emit("pageTo",{from:"4",to:"3"})},otherListClick:function(i){t.setStorageSync("playlistId",this.rankingListInfo["otherLists"][i].id),t.setStorageSync("playlistType","normal");this.$emit("pageTo",{from:"4",to:"3"})}}};i.default=o}).call(this,n("543d")["default"])},b136:function(t,i,n){"use strict";n.r(i);var e=n("bfbf"),o=n("654a");for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return o[t]}))}(s);n("0665");var u=n("f0c5"),l=Object(u["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);i["default"]=l.exports},b1b9:function(t,i,n){},b4bf:function(t,i,n){"use strict";n.r(i);var e=n("ac99"),o=n("6484");for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return o[t]}))}(s);n("ea9a");var u=n("f0c5"),l=Object(u["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);i["default"]=l.exports},b571:function(t,i,n){"use strict";n.r(i);var e=n("a450"),o=n.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);i["default"]=o.a},bfbf:function(t,i,n){"use strict";n.d(i,"b",(function(){return o})),n.d(i,"c",(function(){return s})),n.d(i,"a",(function(){return e}));var e={"u-Image":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--image/u--image")]).then(n.bind(null,"c361"))},"u-Text":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--text/u--text")]).then(n.bind(null,"7545"))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"a1dd"))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,"a5c8"))},uList:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-list/u-list")]).then(n.bind(null,"1a0f"))},uListItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-list-item/u-list-item")]).then(n.bind(null,"d11d"))},uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,"69f0"))},uLine:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-line/u-line")]).then(n.bind(null,"5e37"))},uLoadingPage:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-loading-page/u-loading-page")]).then(n.bind(null,"ceec"))}},o=function(){var t=this,i=t.$createElement,n=(t._self._c,""!=t.playlistinfo.playCount?t.playCountFormat(t.playlistinfo.playCount):null),e=""!=t.playlistinfo.playCount?t.playCountFormat(t.playlistinfo.loveCount):null,o=""!=t.playlistinfo.playCount?t.playCountFormat(t.playlistinfo.chatCount):null;t.$mp.data=Object.assign({},{$root:{m0:n,m1:e,m2:o}})},s=[]},c36c:function(t,i,n){},c3dc:function(t,i,n){"use strict";(function(t,i){var e=n("4ea4");n("54c0");e(n("66fd"));var o=e(n("1aba"));t.__webpack_require_UNI_MP_PLUGIN__=n,i(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},c653:function(t,i,n){"use strict";n.r(i);var e=n("1bca"),o=n("fe85");for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return o[t]}))}(s);n("e8ec");var u=n("f0c5"),l=Object(u["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);i["default"]=l.exports},c6c8:function(t,i,n){"use strict";var e=n("1671"),o=n.n(e);o.a},c81c:function(t,i,n){},d06b:function(t,i,n){},d591:function(t,i,n){"use strict";var e=n("c81c"),o=n.n(e);o.a},d70a:function(t,i,n){"use strict";(function(t){var e=n("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=e(n("a0e5")),s=e(n("b4bf")),u=e(n("ace3")),l=e(n("b136")),a=e(n("07c8")),c=e(n("913c")),r=e(n("fdcb")),d=e(n("c653")),m=e(n("3379")),p=n("4406"),h=t.createInnerAudioContext(),f={components:{home:o.default,recommend:s.default,playlistPiazza:u.default,playlist:l.default,rankingList:a.default,search:c.default,searchPlaylist:r.default,searchSong:d.default,instruction:m.default},data:function(){return{musicPlayerHeight:110,musiclistPopupHeight:300,pageName:"index",songLists:{id:"initial",name:"加载中",cover:"https://p1.music.126.net/jWE3OEZUlwdz0ARvyQ9wWw==/109951165474121408.jpg",updateTime:"",creator:"",cat:"",playCount:"",loveCount:"",chatCount:"",introduction:"",songsNumber:"0",music_list:[]},navbarReturnShow:!1,popupShow:!1,value:0,music_play_time:0,current_music:0,isPlay:!1,navbarTitle:"LL-Music",player_states_icon:"play-circle",showList:[],showListIndex:0,returnPageIndexList:[],pageMapList:[{name:"index",title:"LL-Music",isReturnButtonShow:!1},{name:"recommend",title:"每日推荐",isReturnButtonShow:!0},{name:"playlistPiazza",title:"歌单广场",isReturnButtonShow:!0},{name:"playlist",title:"歌单",isReturnButtonShow:!0},{name:"rankingList",title:"排行榜",isReturnButtonShow:!0},{name:"playlist",title:"收藏",isReturnButtonShow:!0},{name:"search",title:"搜索",isReturnButtonShow:!0},{name:"searchSong",title:"单曲搜索",isReturnButtonShow:!0},{name:"searchPlaylist",title:"歌单搜索",isReturnButtonShow:!0},{name:"instruction",title:"介绍说明",isReturnButtonShow:!0}]}},mounted:function(){this.getMusicPlayerHeight()},onLoad:function(){var i=this,n=this;p.wxLogin((function(t){p._get("/api/playlist/getPlaylistInformation",{id:t.data["data"]["playlistId"]},(function(t){i.showList.length=0,i.showListIndex=0,i.songLists=t.data["data"]["playlist"],i.loadmore()}))}));h.onCanplay((function t(){setTimeout((function(){0===h.duration?t():n.getMusicTime()}),100)})),h.onPlay((function(){n.player_states_icon="pause-circle",n.isPlay=!0,console.log("开始播放")})),h.onPause((function(){n.player_states_icon="play-circle",n.isPlay=!1,console.log("暂停播放")})),h.onTimeUpdate((function(){var t=h.currentTime.toFixed(0);n.value=t/n.music_play_time*100})),h.onWaiting((function(){t.showToast({icon:"loading",title:"加载中..."}),console.log("数据加载中...")})),h.onError((function(i){console.log(i.errMsg),console.log(i.errCode),t.showToast({icon:"error",title:i.errMsg})})),h.onEnded((function(){n.nextMusic(),console.log("播放结束")}))},methods:{loadmore:function(){if(this.showListIndex==Number(this.songLists.songsNumber))t.showToast({icon:"none",title:"到底了..."});else{var i=this.showListIndex,n=30;n=i+30>=Number(this.songLists.songsNumber)?Number(this.songLists.songsNumber):i+30;for(var e=i;e<n;e++)this.showList.push(this.songLists.music_list[e]),this.showListIndex=this.showListIndex+1}},playerScrolltolower:function(){this.loadmore()},getMusicTime:function(){var t=this.songLists.music_list[this.current_music].music_time,i=t.split(":"),n=Number(i[0]),e=Number(i[1]);this.music_play_time=60*n+e,console.log("可以播放了",this.music_play_time)},getMusicUrl:function(t,i){p._get("/api/music/getMusicURLById",{id:t},(function(t){i(t.data["data"]["url"])}))},scrolltolower:function(){t.showToast({icon:"none",title:"已经到底了"})},returnTO:function(){var t=this.returnPageIndexList.pop();this.pageName=this.pageMapList[t].name,this.navbarReturnShow=this.pageMapList[t].isReturnButtonShow,this.navbarTitle=this.pageMapList[t].title},pageTo:function(t){var i=t.to;this.returnPageIndexList.push(t.from),this.pageName=this.pageMapList[i].name,this.navbarReturnShow=this.pageMapList[i].isReturnButtonShow,this.navbarTitle=this.pageMapList[i].title},getChild:function(i){var n=t.$u.deepClone(i);this.getPlaylistInfo(n.childSongListsId,n.index)},playOneMusic:function(i){var n=t.$u.deepClone(i);this.showList.length=0,this.showListIndex=0,this.songLists=n,this.loadmore(),this.current_music=0,this.getMusicUrl(this.songLists["music_list"][this.current_music].music_id,(function(i){null==i?t.showToast({icon:"none",title:"该音乐不能播放"}):(h.src=i,h.play())}))},changePlaylistId:function(t){this.songLists.id="change"},getPlaylistInfo:function(i,n){var e=this,o="",s={};"recommendedSongsInIndex"==i?o="/api/index/getRecommendedData":"recommendedSongsInRecommended"==i?o="/api/recommend/getRecommendedData":(o="/api/playlist/getPlaylistInformation",s={id:i}),p._get(o,s,(function(i){e.showList.length=0,e.showListIndex=0,e.songLists=i.data["data"]["playlist"],e.loadmore(),e.current_music=n,e.getMusicUrl(e.songLists["music_list"][e.current_music].music_id,(function(i){null==i?t.showToast({icon:"none",title:"该音乐不能播放"}):(h.src=i,h.play())}))}))},choseOnePlay:function(i){this.isPlay&&i==this.current_music?(h.pause(),console.log("pause",i)):(this.current_music=i,this.getMusicUrl(this.songLists.music_list[this.current_music].music_id,(function(i){null==i?t.showToast({icon:"none",title:"该音乐不能播放"}):(h.src=i,h.play())})),console.log("play",i))},removeOneFromMusicList:function(i){i<this.current_music?(this.songLists.music_list.splice(i,1),this.current_music=this.current_music-1):i==this.current_music?1==this.songLists.music_list.length?t.showToast({icon:"error",title:"已是最后一首"}):i<this.songLists.music_list.length-1?this.isPlay?(h.pause(),this.songLists.music_list.splice(i,1),this.getMusicUrl(this.songLists.music_list[this.current_music].music_id,(function(i){null==i?t.showToast({icon:"none",title:"该音乐不能播放"}):(h.src=i,h.play())}))):(this.songLists.music_list.splice(i,1),this.getMusicUrl(this.songLists.music_list[this.current_music].music_id,(function(i){null==i?t.showToast({icon:"none",title:"该音乐不能播放"}):h.src=i}))):this.isPlay?(h.pause(),this.songLists.music_list.splice(i,1),this.current_music=0,this.getMusicUrl(this.songLists.music_list[this.current_music].music_id,(function(i){null==i?t.showToast({icon:"none",title:"该音乐不能播放"}):(h.src=i,h.play())}))):(this.songLists.music_list.splice(i,1),this.current_music=0,this.getMusicUrl(this.songLists.music_list[this.current_music].music_id,(function(i){null==i?t.showToast({icon:"none",title:"该音乐不能播放"}):h.src=i}))):this.songLists.music_list.splice(i,1),this.songLists.id="remove",console.log("remove",i)},closePopup:function(){this.popupShow=!1},openPopup:function(){var t=this;this.popupShow=!0,setTimeout((function(){t.getPopupTitleHeight()}),310)},nextMusic:function(){"0"==this.songLists.songsNumber?t.showToast({icon:"none",title:"无音乐可播放"}):(h.pause(),this.current_music<this.songLists.music_list.length-1?this.current_music=this.current_music+1:this.current_music=0,console.log("下一首"),this.getMusicUrl(this.songLists.music_list[this.current_music].music_id,(function(i){null==i?t.showToast({icon:"none",title:"该音乐不能播放"}):(h.src=i,h.play())})))},preMusic:function(){"0"==this.songLists.songsNumber?t.showToast({icon:"none",title:"无音乐可播放"}):(h.pause(),this.current_music>0?this.current_music=this.current_music-1:this.current_music=this.songLists.music_list.length-1,console.log("上一首"),this.getMusicUrl(this.songLists.music_list[this.current_music].music_id,(function(i){null==i?t.showToast({icon:"none",title:"该音乐不能播放"}):(h.src=i,h.play())})))},musicPlayOrStop:function(){"0"==this.songLists.songsNumber?t.showToast({icon:"none",title:"无音乐可播放"}):this.isPlay?h.pause():this.getMusicUrl(this.songLists.music_list[this.current_music].music_id,(function(i){null==i?t.showToast({icon:"none",title:"该音乐不能播放"}):(h.src=i,h.play())}))},getPopupTitleHeight:function(){var i=this,n=t.createSelectorQuery().in(this);n.select(".music-list-title").boundingClientRect((function(n){i.musiclistPopupHeight=t.$u.getPx(t.$u.getPx("780rpx",!0))-n.height})).exec()},getMusicPlayerHeight:function(){var i=this,n=t.createSelectorQuery().in(this);n.select(".music-player").boundingClientRect((function(t){i.musicPlayerHeight=t.height})).exec()}}};i.default=f}).call(this,n("543d")["default"])},d8f6:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default={data:function(){return{introductionContent1:"🤗欢迎使用llMusic小程序🤗 正如小程序的名字，小程序的功能就是播放音乐。🤔为什么制作这款播放音乐的小程序？是因为现在很多音乐软件都是要vip的，很多歌都需要收费才能听。",introductionContent2:"这个小程序是通过网易云接口来获得音乐，只需要在后端数据库里面存vip账号的登录cookie，小程序端无需登录，即可实现多人使用，简单来说，就是一个账号多人使用且每个使用的人不需要账号登录🥰。",introductionContent3:"👉前端技术：uniapp、uView👈",introductionContent4:"👉后端技术：Java、SpringBoot、MybatisPlus、Redis、Mysql👈",introductionContent5:"这里我将针对一些页面的一些功能进行说明。因为本人不才🥺，小程序仍有很多不足之处和可优化的地方...",introductionContent6:"1. 音乐播放列表的最初列表是收藏歌单里面的音乐，如果新用户或者收藏歌单没有音乐则会显示暂无歌曲且不可播放。",introductionContent7:"2. 榜单和收藏的实质就是歌单。",introductionContent8:"3. 首页、每日推荐页、歌单页这些页面点击某个音乐播放，不但播放点击的音乐，还会将播放器里面的音乐列表替换为这些页面对应的歌曲列表（全部替换），即不是播放指定一首，而是全部播放。",introductionContent9:"4. 单曲搜索页点击其中某一首音乐播放，会将播放器的音乐列表替换为这一首（仅一首），即只播放这一首。",introductionContent10:"5. 歌单广场页面，顶部连续下拉两次可切换到上一页内容，底部连续上拉两次可切换到下一页内容。",introductionContent11:"6. 下载失败原因可能有两种：一是小程序下载Api对ios和Android系统有些不兼容的音乐格式；二是小程序对下载需要配置downloadFile接口，如果下载音乐的接口并未在配置里面则下载失败。下载失败可复制音乐的链接，自行去浏览器下载。",introductionContent12:"7. 点击爱心可将音乐收藏或者取消收藏，红心为收藏，反之则为未收藏。因为接口缓存的关系可能导致收藏了，但是收藏歌单未显示拥有。也可能存在取消收藏了，仍然存在。这种情况可稍后（10分钟）重新进入或者刷新小程序解决。",introductionContent13:""}}}},de66:function(t,i,n){},e566:function(t,i,n){"use strict";n.d(i,"b",(function(){return o})),n.d(i,"c",(function(){return s})),n.d(i,"a",(function(){return e}));var e={uNavbar:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-navbar/u-navbar")]).then(n.bind(null,"a5a0"))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"a1dd"))},uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,"69f0"))},"u-Text":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--text/u--text")]).then(n.bind(null,"7545"))},uLine:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-line/u-line")]).then(n.bind(null,"5e37"))},uCell:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-cell/u-cell")]).then(n.bind(null,"017b"))},uLineProgress:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-line-progress/u-line-progress")]).then(n.bind(null,"208a"))}},o=function(){var t=this.$createElement,i=(this._self._c,this.songLists.music_list.length);this.$mp.data=Object.assign({},{$root:{g0:i}})},s=[]},e8ec:function(t,i,n){"use strict";var e=n("b1b9"),o=n.n(e);o.a},ea9a:function(t,i,n){"use strict";var e=n("de66"),o=n.n(e);o.a},f520:function(t,i,n){"use strict";n.d(i,"b",(function(){return o})),n.d(i,"c",(function(){return s})),n.d(i,"a",(function(){return e}));var e={uList:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-list/u-list")]).then(n.bind(null,"1a0f"))},uListItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-list-item/u-list-item")]).then(n.bind(null,"d11d"))},"u-Image":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--image/u--image")]).then(n.bind(null,"c361"))},"u-Text":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--text/u--text")]).then(n.bind(null,"7545"))},uLoadingPage:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-loading-page/u-loading-page")]).then(n.bind(null,"ceec"))}},o=function(){var t=this.$createElement;this._self._c},s=[]},f5e9:function(t,i,n){"use strict";var e=n("64af"),o=n.n(e);o.a},fa20:function(t,i,n){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=n("4406"),o={props:{playerHeight:{type:Number,default:110}},data:function(){return{childCurrentMusic:-1,loadingStatus:!0,hasMore:!1,screenHeight:0,page:0,key:"海阔天空",totalSongCount:0,childSongLists:{id:"searchSong",name:"加载中...",cover:"https://p2.music.126.net/c-u3kOlkVTUf4JdeDHDdEw==/109951163291871252.jpg",updateTime:"",creator:"llgululu",cat:"",playCount:"",loveCount:"",chatCount:"",introduction:"",songsNumber:"0",music_list:[]}}},mounted:function(){this.setScorllHeight();var i=t.getStorageSync("searchKeywords")||"海阔天空";this.key=i,this.loadMore()},methods:{loadMore:function(){var t=this;e._get("/api/searchSong/getSearchSongResult",{keywords:this.key,page:this.page},(function(i){t.hasMore=i.data["data"]["songsHasMore"],t.childSongLists.songsNumber=Number(t.childSongLists.songsNumber)+Number(i.data["data"]["childSongLists"].songsNumber),t.childSongLists.music_list=t.childSongLists.music_list.concat(i.data["data"]["childSongLists"].music_list),t.totalSongCount=i.data["data"]["totalSongCount"],t.loadingStatus=!1}))},scrolltolower:function(){this.hasMore?(this.page=this.page+1,this.loadMore()):t.showToast({icon:"none",title:"到底了"})},playOneMusic:function(t){var i={id:this.childSongLists.id,songsNumber:"1",music_list:[this.childSongLists.music_list[t]]};this.$emit("playOneMusic",i)},downloadMusic:function(i){var n=this;e._get("/api/music/getMusicURLById",{id:this.childSongLists.music_list[i].music_id},(function(i){var e=t.downloadFile({url:i.data["data"]["url"],success:function(i){200===i.statusCode&&(console.log("下载成功"),t.saveFile({tempFilePath:i.tempFilePath,success:function(i){t.hideLoading(),t.showToast({icon:"success",title:"下载成功！"}),console.log("保存成功"+i.savedFilePath)}}))},fail:function(e){t.hideLoading(),t.showModal({title:"提示",content:"下载失败，可以通过浏览器链接下载，是否复制链接自行去浏览器下载？",success:function(t){t.confirm?n.copywa(i.data["data"]["url"]):t.cancel&&console.log("用户点击取消")}}),console.log(e)}});e.onProgressUpdate((function(i){t.showLoading({title:"下载进度"+i.progress+"%"}),i.progress>50&&e.abort()}))}))},copywa:function(i){t.setClipboardData({data:i,success:function(i){t.showToast({title:"复制成功"})},fail:function(){t.showToast({title:"复制失败了"})}})},collectOrCancelMusic:function(i){var n,o,s=this,u=this.childSongLists.music_list[i].music_id;this.childSongLists.music_list[i].is_like?(n="del",o=!1):(n="add",o=!0);var l=t.getStorageSync("collectionPlaylistId");e._get("/api/music/collectOrCancelMusic",{musicId:u,playlistId:l,op:n},(function(t){t.data["data"]["success"]&&(s.childSongLists.music_list[i].is_like=o)}))},setScorllHeight:function(){var i=this.playerHeight,n=t.getSystemInfoSync().statusBarHeight;this.screenHeight=t.getSystemInfoSync().windowHeight-i-n-44-t.$u.getPx(t.$u.getPx("20rpx",!0))}}};i.default=o}).call(this,n("543d")["default"])},fdcb:function(t,i,n){"use strict";n.r(i);var e=n("f520"),o=n("b571");for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return o[t]}))}(s);n("81d8");var u=n("f0c5"),l=Object(u["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);i["default"]=l.exports},fe85:function(t,i,n){"use strict";n.r(i);var e=n("fa20"),o=n.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){n.d(i,t,(function(){return e[t]}))}(s);i["default"]=o.a},ffc6:function(t,i,n){"use strict";n.d(i,"b",(function(){return o})),n.d(i,"c",(function(){return s})),n.d(i,"a",(function(){return e}));var e={uSearch:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-search/u-search")]).then(n.bind(null,"6de3"))},uSwiper:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-swiper/u-swiper")]).then(n.bind(null,"5bdd"))},uGrid:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-grid/u-grid")]).then(n.bind(null,"b7d0"))},uGridItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-grid-item/u-grid-item")]).then(n.bind(null,"42c0"))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"a1dd"))},"u-Text":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--text/u--text")]).then(n.bind(null,"7545"))},uScrollList:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-scroll-list/u-scroll-list")]).then(n.bind(null,"93bc"))},"u-Image":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--image/u--image")]).then(n.bind(null,"c361"))},uLoadingPage:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-loading-page/u-loading-page")]).then(n.bind(null,"ceec"))}},o=function(){var t=this,i=t.$createElement,n=(t._self._c,t.__map(t.gridList,(function(i,n){var e=t.__get_orig(i);return{$orig:e,a0:{paddingTop:"10rpx"}}}))),e=t.__map(t.rSongList_list,(function(i,n){var e=t.__get_orig(i),o=t.playCountFormat(i.playCount);return{$orig:e,m0:o}})),o=t.listFormat(t.childSongLists.music_list);t._isMounted||(t.e0=function(i,n,e){var o=arguments[arguments.length-1].currentTarget.dataset,s=o.eventParams||o["event-params"];n=s.index,e=s.ind;return t.rSongsClick(3*n+e)}),t.$mp.data=Object.assign({},{$root:{l0:n,l1:e,l2:o}})},s=[]}},[["c3dc","common/runtime","common/vendor"]]]);