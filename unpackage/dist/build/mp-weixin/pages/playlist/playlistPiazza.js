(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/playlist/playlistPiazza"],{"0333":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("4406"),o={props:{playerHeight:{type:Number,default:110}},data:function(){return{loadingStatus:!0,scrollCurrentTop:10,scrollDefaultTop:10,popupShow:!1,playlist_list:[{id:2219770152,playCount:"24696312",name:"还记得你的梦想吗？别让你的梦只有想",picUrl:"https://p2.music.126.net/c-u3kOlkVTUf4JdeDHDdEw==/109951163291871252.jpg"},{id:2105681544,playCount:"66730376",name:"日系/无前奏：开口即跪 一秒沦陷",picUrl:"https://p2.music.126.net/-bT1aNnjdESQwlw38D5eJg==/109951164323807218.jpg"},{id:2340621859,playCount:24696312,name:"[国电新势力] 网易电子音乐人精选",picUrl:"https://p2.music.126.net/qA0W0aER7LxB99iTOMQZcA==/109951166153828602.jpg"},{id:2075587022,playCount:28962018,name:"助眠辑 | 自然音，伴灵动乐符萦绕耳畔",picUrl:"https://p2.music.126.net/sixunTcvD_IXeVqxZnpHkA==/109951163452086313.jpg"},{id:1982066521,playCount:25412796,name:"假如能回到过去，你想做什么",picUrl:"https://p2.music.126.net/kZb9DO4vykqiYEx0HHx86w==/109951163065542645.jpg"},{id:2821115454,playCount:60138372,name:"[一周原创发现] XMASwu(吴骜)陪你看一场永恒的烟火",picUrl:"https://p2.music.126.net/iMRatrLaDG7dfI4eHxoM1A==/109951168721829218.jpg"},{id:2219770152,playCount:26083436,name:"还记得你的梦想吗？别让你的梦只有想",picUrl:"https://p2.music.126.net/c-u3kOlkVTUf4JdeDHDdEw==/109951163291871252.jpg"},{id:2105681544,playCount:66730376,name:"日系/无前奏：开口即跪 一秒沦陷",picUrl:"https://p2.music.126.net/-bT1aNnjdESQwlw38D5eJg==/109951164323807218.jpg"},{id:2340621859,playCount:24696312,name:"[国电新势力] 网易电子音乐人精选",picUrl:"https://p2.music.126.net/qA0W0aER7LxB99iTOMQZcA==/109951166153828602.jpg"},{id:2075587022,playCount:28962018,name:"助眠辑 | 自然音，伴灵动乐符萦绕耳畔",picUrl:"https://p2.music.126.net/sixunTcvD_IXeVqxZnpHkA==/109951163452086313.jpg"},{id:1982066521,playCount:25412796,name:"假如能回到过去，你想做什么",picUrl:"https://p2.music.126.net/kZb9DO4vykqiYEx0HHx86w==/109951163065542645.jpg"},{id:2821115454,playCount:60138372,name:"[一周原创发现] XMASwu(吴骜)陪你看一场永恒的烟火",picUrl:"https://p2.music.126.net/iMRatrLaDG7dfI4eHxoM1A==/109951168721829218.jpg"},{id:2219770152,playCount:26083436,name:"还记得你的梦想吗？别让你的梦只有想",picUrl:"https://p2.music.126.net/c-u3kOlkVTUf4JdeDHDdEw==/109951163291871252.jpg"},{id:2105681544,playCount:66730376,name:"日系/无前奏：开口即跪 一秒沦陷",picUrl:"https://p2.music.126.net/-bT1aNnjdESQwlw38D5eJg==/109951164323807218.jpg"},{id:2340621859,playCount:24696312,name:"[国电新势力] 网易电子音乐人精选",picUrl:"https://p2.music.126.net/qA0W0aER7LxB99iTOMQZcA==/109951166153828602.jpg"},{id:2075587022,playCount:28962018,name:"助眠辑 | 自然音，伴灵动乐符萦绕耳畔",picUrl:"https://p2.music.126.net/sixunTcvD_IXeVqxZnpHkA==/109951163452086313.jpg"},{id:1982066521,playCount:25412796,name:"假如能回到过去，你想做什么",picUrl:"https://p2.music.126.net/kZb9DO4vykqiYEx0HHx86w==/109951163065542645.jpg"},{id:2821115454,playCount:60138372,name:"[一周原创发现] XMASwu(吴骜)陪你看一场永恒的烟火",picUrl:"https://p2.music.126.net/iMRatrLaDG7dfI4eHxoM1A==/109951168721829218.jpg"},{id:2219770152,playCount:26083436,name:"还记得你的梦想吗？别让你的梦只有想",picUrl:"https://p2.music.126.net/c-u3kOlkVTUf4JdeDHDdEw==/109951163291871252.jpg"},{id:2105681544,playCount:66730376,name:"日系/无前奏：开口即跪 一秒沦陷",picUrl:"https://p2.music.126.net/-bT1aNnjdESQwlw38D5eJg==/109951164323807218.jpg"},{id:2340621859,playCount:24696312,name:"[国电新势力] 网易电子音乐人精选",picUrl:"https://p2.music.126.net/qA0W0aER7LxB99iTOMQZcA==/109951166153828602.jpg"}],category_list:[{title:"官方",categories:[{name:"全部",hot:!1,index:"0"}]},{title:"语种",categories:[{name:"华语",hot:!0,index:"1"},{name:"欧美",hot:!1,index:"2"},{name:"日语",hot:!1,index:"3"},{name:"韩语",hot:!1,index:"4"},{name:"粤语",hot:!1,index:"5"}]},{title:"风格",categories:[{name:"流行",hot:!0,index:"6"},{name:"摇滚",hot:!0,index:"7"},{name:"民谣",hot:!0,index:"8"},{name:"电子",hot:!0,index:"9"}]},{title:"场景",categories:[{name:"清晨",hot:!1,index:"10"},{name:"夜晚",hot:!0,index:"11"},{name:"学习",hot:!0,index:"12"},{name:"工作",hot:!1,index:"13"},{name:"午休",hot:!1,index:"14"}]}],tabs_index:0,screenHeight:"0",lowerTemp:0,upperTemp:0,totalPage:1,currentPage:0}},mounted:function(){var t=this;i._get("/api/playlistPiazza/getDataPagePlaylistPiazza",{},(function(e){t.category_list=e.data["data"]["category_list"],t.getPlaylistByCategory(),t.setHeight(),setTimeout((function(){t.loadingStatus=!1}),800)}))},methods:{setHeight:function(){var e=this.playerHeight,n=t.getSystemInfoSync().statusBarHeight;this.screenHeight=t.getSystemInfoSync().windowHeight-88-t.$u.getPx(e)-n},getPlaylistByCategory:function(){var t=this,e=this.listFormat(),n=e[this.tabs_index].name;i._get("/api/playlistPiazza/getPlaylistByCategory",{cat:n,page:this.currentPage},(function(e){t.playlist_list=e.data["data"]["playlist_list"],t.totalPage=e.data["data"]["totalPage"]}))},playlistClick:function(e){t.setStorageSync("playlistId",this.playlist_list[e].id),t.setStorageSync("playlistType","normal");this.$emit("pageTo",{from:"2",to:"3"})},scroll:function(t){this.scrollCurrentTop=t},scrolltoupper:function(){var e=this;0==e.currentPage?(t.showToast({icon:"error",title:"已经到顶"}),e.topNumberChange()):e.upperTemp<1?(e.upperTemp=e.upperTemp+1,t.showToast({icon:"none",title:"再拉一次，切换上一页",mask:!0,duration:800}),e.topNumberChange()):(t.showLoading({title:"加载中...",mask:!0}),e.currentPage=e.currentPage-1,e.getPlaylistByCategory(),setTimeout((function(){e.topNumberChange(),e.upperTemp=0,t.hideLoading()}),800))},scrolltolower:function(){var e=this;e.currentPage==e.totalPage?(t.showToast({icon:"error",title:"已经到底"}),e.scrollDefaultTop=e.scrollCurrentTop-10):e.lowerTemp<1?(e.lowerTemp=e.lowerTemp+1,t.showToast({icon:"none",title:"再拉一次，切换下一页",mask:!0,duration:800}),e.scrollDefaultTop=e.scrollCurrentTop-10):(t.showLoading({title:"加载中...",mask:!0}),e.currentPage=e.currentPage+1,e.getPlaylistByCategory(),setTimeout((function(){e.topNumberChange(),e.lowerTemp=0,t.hideLoading()}),800))},listFormat:function(){for(var t=[],e=0;e<this.category_list.length;e++)for(var n=0;n<this.category_list[e].categories.length;n++)t.push(this.category_list[e].categories[n]);return t},closePopup:function(){this.popupShow=!1},openPopup:function(){this.popupShow=!0},topNumberChange:function(){10==this.scrollDefaultTop?this.scrollDefaultTop=10.1:10.1==this.scrollDefaultTop?this.scrollDefaultTop=10.2:10.2==this.scrollDefaultTop?this.scrollDefaultTop=10.3:this.scrollDefaultTop=10},tabsChange:function(t){this.tabs_index!=t.index&&(this.tabs_index=t.index,this.currentPage=0,this.getPlaylistByCategory(),this.topNumberChange(),this.upperTemp=0,this.lowerTemp=0)},playCountFormat:function(t){return i.playCountFormat(t)},listFormat1:function(t){return i.listFormatOneToThree(t)}}};e.default=o}).call(this,n("543d")["default"])},"46df":function(t,e,n){"use strict";var i=n("9dab"),o=n.n(i);o.a},"59ac":function(t,e,n){"use strict";n.r(e);var i=n("0333"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"76a2":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-tabs/u-tabs")]).then(n.bind(null,"9e52"))},uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"a1dd"))},uList:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-list/u-list")]).then(n.bind(null,"1a0f"))},uListItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-list-item/u-list-item")]).then(n.bind(null,"d11d"))},"u-Image":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--image/u--image")]).then(n.bind(null,"c361"))},"u-Text":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--text/u--text")]).then(n.bind(null,"7545"))},uPopup:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-popup/u-popup")]).then(n.bind(null,"69f0"))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,"a5c8"))},uLoadingPage:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-loading-page/u-loading-page")]).then(n.bind(null,"ceec"))}},o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.listFormat()),i=t.__map(t.listFormat1(t.playlist_list),(function(e,n){var i=t.__get_orig(e),o=t.__map(e,(function(e,n){var i=t.__get_orig(e),o=t.playCountFormat(e.playCount);return{$orig:i,m1:o}}));return{$orig:i,l0:o}}));t._isMounted||(t.e0=function(e,n,i){var o=arguments[arguments.length-1].currentTarget.dataset,a=o.eventParams||o["event-params"];n=a.index,i=a.ind;return t.playlistClick(3*n+i)}),t.$mp.data=Object.assign({},{$root:{m0:n,l1:i}})},a=[]},"9dab":function(t,e,n){},ace3:function(t,e,n){"use strict";n.r(e);var i=n("76a2"),o=n("59ac");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("46df");var u=n("f0c5"),l=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=l.exports},cc8c:function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("54c0");i(n("66fd"));var o=i(n("ace3"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])}},[["cc8c","common/runtime","common/vendor"]]]);