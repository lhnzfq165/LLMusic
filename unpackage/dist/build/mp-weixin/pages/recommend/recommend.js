(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/recommend/recommend"],{"0a38":function(i,t,n){"use strict";(function(i){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n("4406"),s={props:{fatherSongListsId:String,fatherCurrnt:Number},mounted:function(){var i=this;e._get("/api/recommend/getRecommendedData",{},(function(t){i.childSongLists=t.data["data"]["playlist"],i.fatherSongListsId==i.childSongLists.id&&(i.childCurrentMusic=i.fatherCurrnt),setTimeout((function(){i.loadingStatus=!1}),600)}))},watch:{fatherCurrnt:function(i){console.log(i);this.fatherSongListsId==this.childSongLists.id?this.childCurrentMusic=i:-1!=this.childCurrentMusic&&(this.childCurrentMusic=-1)}},data:function(){return{loadingStatus:!0,childCurrentMusic:-1,childSongLists:{id:"3",music_list:[{music_id:"1",music_cover:"https://p1.music.126.net/w1pQ83qhoVMJ_eMpRyoAtA==/109951166200199773.jpg",music_singer:"Goose house",music_name:"光るなら",music_time:"04:14",is_like:!0},{music_id:"2",music_cover:"https://p1.music.126.net/_zYzyYUidI7mfXeHKiSS0g==/109951166701711136.jpg",music_singer:"胡彦斌",music_name:"One Night in Shang Hai",music_time:"04:02",is_like:!1},{music_id:"3",music_cover:"https://p1.music.126.net/_zYzyYUidI7mfXeHKiSS0g==/109951166701711136.jpg",music_singer:"胡彦斌",music_name:"One Night in Shang Hai",music_time:"04:02",is_like:!1}]}}},methods:{collectOrCancelMusic:function(t){var n,s,c=this,o=this.childSongLists.music_list[t].music_id;this.childSongLists.music_list[t].is_like?(n="del",s=!1):(n="add",s=!0);var u=i.getStorageSync("collectionPlaylistId");e._get("/api/music/collectOrCancelMusic",{musicId:o,playlistId:u,op:n},(function(i){i.data["data"]["success"]&&(c.childSongLists.music_list[t].is_like=s)}))},copywa:function(t){i.setClipboardData({data:t,success:function(t){i.showToast({title:"复制成功"})},fail:function(){i.showToast({title:"复制失败了"})}})},downloadMusic:function(t){var n=this;e._get("/api/music/getMusicURLById",{id:this.childSongLists.music_list[t].music_id},(function(t){var e=i.downloadFile({url:t.data["data"]["url"],success:function(t){200===t.statusCode&&(console.log("下载成功"),i.saveFile({tempFilePath:t.tempFilePath,success:function(t){i.hideLoading(),i.showToast({icon:"success",title:"下载成功！"}),console.log("保存成功"+t.savedFilePath)}}))},fail:function(e){i.hideLoading(),i.showModal({title:"提示",content:"下载失败，可以通过浏览器链接下载，是否复制链接自行去浏览器下载？",success:function(i){i.confirm?n.copywa(t.data["data"]["url"]):i.cancel&&console.log("用户点击取消")}}),console.log(e)}});e.onProgressUpdate((function(t){i.showLoading({title:"下载进度"+t.progress+"%"}),t.progress>50&&e.abort()}))}))},sendToFather:function(i){this.childCurrentMusic=i,console.log(i);var t={childSongListsId:this.childSongLists.id,index:i};this.$emit("getChild",t)},playAllSongs:function(){if(0==this.childSongLists.music_list.length)i.showToast({icon:"none",title:"没有歌曲"});else{this.childCurrentMusic=0;var t={childSongListsId:this.childSongLists.id,index:0};this.$emit("getChild",t)}}}};t.default=s}).call(this,n("543d")["default"])},"13c6":function(i,t,n){"use strict";(function(i,t){var e=n("4ea4");n("54c0");e(n("66fd"));var s=e(n("b4bf"));i.__webpack_require_UNI_MP_PLUGIN__=n,t(s.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},6484:function(i,t,n){"use strict";n.r(t);var e=n("0a38"),s=n.n(e);for(var c in e)["default"].indexOf(c)<0&&function(i){n.d(t,i,(function(){return e[i]}))}(c);t["default"]=s.a},ac99:function(i,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return e}));var e={uIcon:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-icon/u-icon")]).then(n.bind(null,"a1dd"))},"u-Image":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--image/u--image")]).then(n.bind(null,"c361"))},"u-Text":function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u--text/u--text")]).then(n.bind(null,"7545"))},uLoadingPage:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uview-ui/components/u-loading-page/u-loading-page")]).then(n.bind(null,"ceec"))}},s=function(){var i=this.$createElement;this._self._c},c=[]},b4bf:function(i,t,n){"use strict";n.r(t);var e=n("ac99"),s=n("6484");for(var c in s)["default"].indexOf(c)<0&&function(i){n.d(t,i,(function(){return s[i]}))}(c);n("ea9a");var o=n("f0c5"),u=Object(o["a"])(s["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);t["default"]=u.exports},de66:function(i,t,n){},ea9a:function(i,t,n){"use strict";var e=n("de66"),s=n.n(e);s.a}},[["13c6","common/runtime","common/vendor"]]]);